"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("vue"),I=i=>(t.pushScopeId("data-v-c2869eef"),i=i(),t.popScopeId(),i),R={dir:"ltr",class:"main-header-container"},E=I(()=>t.createElementVNode("svg",{width:"12",height:"12",viewBox:"0 0 8 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[t.createElementVNode("path",{d:"M7.41016 1.41L2.83016 6L7.41016 10.59L6.00016 12L0.00015614 6L6.00016 -6.16331e-08L7.41016 1.41Z"})],-1)),V=I(()=>t.createElementVNode("svg",{width:"12",height:"12",viewBox:"0 0 8 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[t.createElementVNode("path",{d:"M0.589844 10.59L5.16984 6L0.589843 1.41L1.99984 -6.16331e-08L7.99984 6L1.99984 12L0.589844 10.59Z"})],-1)),F=t.defineComponent({__name:"MainHeader",emits:["next","prev"],setup(i,{emit:v}){return(e,l)=>(t.openBlock(),t.createElementBlock("div",R,[t.createElementVNode("div",{class:"arrow-button next",onClick:l[0]||(l[0]=g=>v("next"))},[t.renderSlot(e.$slots,"header-next-button",{},()=>[E],!0)]),t.createElementVNode("div",{class:"arrow-button prev",onClick:l[1]||(l[1]=g=>v("prev"))},[t.renderSlot(e.$slots,"header-prev-button",{},()=>[V],!0)])]))}});const S=(i,v)=>{const e=i.__vccOpts||i;for(const[l,g]of v)e[l]=g;return e},L=S(F,[["__scopeId","data-v-c2869eef"]]),H={class:"week-days-container"},N=t.defineComponent({__name:"WeekHeader",props:{calendar:{}},setup(i){const v=i,e=t.computed(()=>v.calendar.weekdaysMin);return(l,g)=>(t.openBlock(),t.createElementBlock("div",H,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.value,(u,p)=>t.renderSlot(l.$slots,"week-day",{day:u},()=>[(t.openBlock(),t.createElementBlock("div",{key:`week-day-${p}`,class:"week-day-container"},t.toDisplayString(u),1))],!0)),256))]))}});const P=S(N,[["__scopeId","data-v-34b8b865"]]),A={class:"month-title"},z={class:"month-days-container"},q=["onClick","onMouseenter"],W=t.defineComponent({__name:"MonthTable",props:{value:{},year:{},month:{},calendar:{},range:{type:Boolean},selectedFirstRange:{},currentHoveredDay:{},min:{},max:{},onlyPickDay:{type:Boolean},unequalRange:{type:Boolean},monthCount:{}},emits:["day-click","day-hover","drag","input"],setup(i,{emit:v}){const e=i,l=t.computed(()=>`${e.calendar.months[e.month]} ${e.year}`),g=t.computed(()=>e.calendar.daysInMonth(e.month,e.year)),u=t.computed(()=>new Array(g.value).fill(0).map((a,o)=>({dayInMonth:o+1,month:e.month,year:e.year,dayInWeek:e.calendar.getDayInWeek(e.calendar.getDate(e.year,e.month,o+1)),today:e.calendar.isSame(new Date,e.calendar.getDate(e.year,e.month,o+1))}))),p=t.computed(()=>u.value.map(a=>M(a.dayInMonth))),D=t.computed(()=>u.value.map(a=>B(a.dayInMonth))),m=t.computed(()=>u.value.map(a=>{const{start:o,end:s,isSelected:f}=w(a.dayInMonth);return{isSelected:f,startRange:o,endRange:s}})),d=t.computed(()=>u.value.map((a,o)=>({...a,isSelected:m.value[o].isSelected,startRange:m.value[o].startRange,endRange:m.value[o].endRange,isBetween:D.value[o],disabled:p.value[o]}))),k=t.computed(()=>(e.calendar.firstDayInMonth(e.month,e.year)-e.calendar.startDayWeek+7)%7),_=t.computed(()=>e.currentHoveredDay?e.calendar.getDate(e.currentHoveredDay.year,e.currentHoveredDay.month,e.currentHoveredDay.dayInMonth):null),y=t.computed(()=>e.calendar.getDate(e.year,e.month,1)),M=a=>{let o=!1,s=!1;return e.min&&(o=e.calendar.isAfter(e.min,e.calendar.getDate(e.year,e.month,a))),e.max&&(s=e.calendar.isAfter(e.calendar.getDate(e.year,e.month,a),e.max)),o||s},B=a=>e.range?e.selectedFirstRange&&_.value?e.calendar.isAfter(_.value,e.selectedFirstRange)?e.calendar.isBetween(e.calendar.getDate(e.year,e.month,a),e.selectedFirstRange,_.value):!1:e.value.start&&e.value.end?e.calendar.isBetween(e.calendar.getDate(e.year,e.month,a),e.value.start,e.value.end):!1:!1,w=a=>{const o=e.calendar.getDate(e.year,e.month,a);if(e.range){const s=e.value;if(e.selectedFirstRange){const c=e.calendar.isSame(e.selectedFirstRange,o);let r=!1,h=!1;return _.value&&(r=e.calendar.isSame(_.value,o),h=e.calendar.isAfter(_.value,e.selectedFirstRange)),{isSelected:c,start:h&&c,end:h&&r}}const f=s.start?e.calendar.isSame(s.start,o):!1,n=s.end?e.calendar.isSame(s.end,o):!1;return{isSelected:f||n,start:f,end:n}}else return{isSelected:e.calendar.isSame(e.value,o),start:!1,end:!1}},b=a=>{a.disabled||v("day-hover",a)},C=a=>{if(!a.disabled&&(v("day-click",{...a,year:e.year,month:e.month}),!e.onlyPickDay))if(e.range)if(e.selectedFirstRange){const o=e.calendar.getDate(e.year,e.month,a.dayInMonth);e.calendar.isAfter(o,e.selectedFirstRange)||!e.unequalRange&&e.calendar.isSame(o,e.selectedFirstRange)?v("input",{start:e.selectedFirstRange,end:o}):v("drag",o)}else v("drag",e.calendar.getDate(e.year,e.month,a.dayInMonth));else v("input",e.calendar.getDate(e.year,e.month,a.dayInMonth))};return(a,o)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["month-table-container",{single:e.monthCount===1}])},[t.renderSlot(a.$slots,"month-title",{startMonthDate:y.value},()=>[t.createElementVNode("div",A,t.toDisplayString(l.value),1)],!0),t.renderSlot(a.$slots,"week-header",{},()=>[t.createVNode(t.unref(P),{calendar:a.calendar},null,8,["calendar"])],!0),t.createElementVNode("div",z,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(k.value,s=>(t.openBlock(),t.createElementBlock("div",{key:`empty-${s}`,class:"main-day-wrapper empty"}))),128)),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(d.value,s=>(t.openBlock(),t.createElementBlock("div",{key:s.dayInMonth,class:"main-day-wrapper",onClick:f=>C(s),onMouseenter:f=>b(s)},[t.renderSlot(a.$slots,"day-container",{day:s,daysInMonth:g.value},()=>[t.createElementVNode("div",{class:t.normalizeClass(["main-day-container",{selected:s.isSelected,between:s.isBetween,disable:s.disabled}])},[t.renderSlot(a.$slots,"day",{day:s},()=>[t.createTextVNode(t.toDisplayString(s.dayInMonth),1)],!0)],2)],!0)],40,q))),128))])],2))}});const O=S(W,[["__scopeId","data-v-abb03691"]]),T={class:"customizable-date-picker-container"},Y={class:"month-list"},Z=t.defineComponent({__name:"CustomizableDatePicker",props:{calendars:{},modelValue:{},monthCount:{},currentCalendar:{},range:{type:Boolean},onlyPick:{},readOnly:{type:Boolean},min:{},max:{},startMonthFromNow:{type:Boolean},trackStart:{type:Boolean},unequalRange:{type:Boolean}},emits:["day-click","day-hover","drag","page-change","update:modelValue"],setup(i,{expose:v,emit:e}){const l=i,g=t.computed(()=>l.currentCalendar??0),u=t.computed(()=>l.calendars[g.value]),p=t.computed({get(){return l.modelValue},set(n){e("update:modelValue",n)}}),D=t.computed(()=>l.monthCount??1),m=t.ref(u.value.currentYear),d=t.ref(u.value.currentMonth);t.watch(u,n=>{m.value=n.currentYear,d.value=n.currentMonth});const k=t.ref(null),_=t.ref(null),y=t.ref([]);t.onMounted(()=>{for(let n=0;n<D.value;n++){const c=d.value+n>11?m.value+1:m.value,r=d.value+n<12?d.value+n:(d.value+n)%12;y.value.push({year:c,month:r})}}),t.watch(D,n=>{const c=[];for(let r=0;r<n;r++){const h=d.value+r>11?m.value+1:m.value,$=d.value+r<12?d.value+r:(d.value+r)%12;c.push({year:h,month:$})}y.value=c});const M=()=>{const n=y.value[y.value.length-1],c=n.month===11?n.year+1:n.year,r=(n.month+1)%12;return y.value.push({year:c,month:r}),{year:c,month:r}},B=()=>{const n=y.value[0],c=n.month===0?n.year-1:n.year,r=n.month===0?11:n.month-1;return y.value.unshift({year:c,month:r}),{year:c,month:r}};t.watch(p,()=>{l.range&&l.trackStart&&!p.value.end&&(k.value=p.value.start)});const w=()=>{d.value+1<=11?d.value++:(d.value=0,m.value++),e("page-change",{year:m.value,month:d.value})},b=()=>{d.value-1>=0?d.value--:(d.value=11,m.value--),e("page-change",{year:m.value,month:d.value})},C=n=>{e("update:modelValue",{start:l.trackStart?n:null,end:null}),e("drag"),k.value=n},a=n=>{k.value=null,e("update:modelValue",n)},o=n=>{_.value=n,e("day-hover",u.value.getDate(n.year,n.month,n.dayInMonth))},s=n=>{e("day-click",n),f(n)},f=n=>{if(!l.onlyPick||!l.range)return;const c=p.value||{},r=u.value.getDate(n.year,n.month,n.dayInMonth);l.onlyPick==="start"?(c.end&&u.value.isAfter(r,c.end)&&(c.end=r),c.start=r):l.onlyPick==="end"&&(c.start&&u.value.isAfter(c.start,r)&&(c.start=r),c.end=r),e("update:modelValue",p.value)};return v({prev:b,next:w,appendMonth:M,prependMonth:B}),(n,c)=>(t.openBlock(),t.createElementBlock("div",T,[t.createVNode(t.unref(L),{onNext:w,onPrev:b},{"header-next-button":t.withCtx(()=>[t.renderSlot(n.$slots,"header-next-button",{},void 0,!0)]),"header-prev-button":t.withCtx(()=>[t.renderSlot(n.$slots,"header-prev-button",{},void 0,!0)]),_:3}),t.createElementVNode("div",Y,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(y.value,r=>(t.openBlock(),t.createBlock(t.unref(O),{key:r.year.toString()+r.month.toString(),year:r.year,month:r.month,calendar:u.value,value:p.value,range:n.range,"selected-first-range":k.value,"current-hovered-day":_.value,min:l.min,max:l.max,"only-pick-day":l.range&&!!l.onlyPick,"unequal-range":l.unequalRange,monthCount:D.value,onDayClick:s,onDayHover:o,onDrag:C,onInput:a},{"month-title":t.withCtx(({startMonthDate:h})=>[t.renderSlot(n.$slots,"month-title",{startMonthDate:h},void 0,!0)]),"week-header":t.withCtx(()=>[t.renderSlot(n.$slots,"week-header",{},void 0,!0)]),"day-container":t.withCtx(({day:h,daysInMonth:$})=>[t.renderSlot(n.$slots,"day-container",{day:h,daysInMonth:$},void 0,!0)]),day:t.withCtx(({day:h})=>[t.renderSlot(n.$slots,"day",{day:h},void 0,!0)]),_:2},1032,["year","month","calendar","value","range","selected-first-range","current-hovered-day","min","max","only-pick-day","unequal-range","monthCount"]))),128))])]))}});const x=S(Z,[["__scopeId","data-v-10f42a99"]]),j={install:i=>{i.component("VCustomizableDatePicker",x)}};exports.CustomizableDatePicker=x;exports.default=j;
