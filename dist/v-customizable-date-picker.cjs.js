"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("vue"),$=d=>(t.pushScopeId("data-v-b6f7e2e1"),d=d(),t.popScopeId(),d),x={dir:"ltr",class:"main-header-container"},R=$(()=>t.createElementVNode("svg",{width:"12",height:"12",viewBox:"0 0 8 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[t.createElementVNode("path",{d:"M7.41016 1.41L2.83016 6L7.41016 10.59L6.00016 12L0.00015614 6L6.00016 -6.16331e-08L7.41016 1.41Z"})],-1)),E=$(()=>t.createElementVNode("svg",{width:"12",height:"12",viewBox:"0 0 8 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[t.createElementVNode("path",{d:"M0.589844 10.59L5.16984 6L0.589843 1.41L1.99984 -6.16331e-08L7.99984 6L1.99984 12L0.589844 10.59Z"})],-1)),V=t.defineComponent({__name:"MainHeader",emits:["next","prev"],setup(d,{emit:u}){return(e,o)=>(t.openBlock(),t.createElementBlock("div",x,[t.createElementVNode("div",{class:"arrow-button next",onClick:o[0]||(o[0]=p=>u("next"))},[t.renderSlot(e.$slots,"header-next-button",{},()=>[R],!0)]),t.createElementVNode("div",{class:"arrow-button prev",onClick:o[1]||(o[1]=p=>u("prev"))},[t.renderSlot(e.$slots,"header-prev-button",{},()=>[E],!0)])]))}});const w=(d,u)=>{const e=d.__vccOpts||d;for(const[o,p]of u)e[o]=p;return e},F=w(V,[["__scopeId","data-v-b6f7e2e1"]]),L={class:"week-days-container"},H=t.defineComponent({__name:"WeekHeader",props:{calendar:{}},setup(d){const u=d,e=t.computed(()=>u.calendar.weekdaysMin);return(o,p)=>(t.openBlock(),t.createElementBlock("div",L,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.value,(s,m)=>t.renderSlot(o.$slots,"week-day",{day:s},()=>[(t.openBlock(),t.createElementBlock("div",{key:`week-day-${m}`,class:"week-day-container"},t.toDisplayString(s),1))],!0)),256))]))}});const N=w(H,[["__scopeId","data-v-c8a79ea0"]]),P={class:"month-title"},A={class:"month-days-container"},z=["onClick","onMouseenter"],q=t.defineComponent({__name:"MonthTable",props:{value:{},year:{},month:{},calendar:{},range:{type:Boolean},selectedFirstRange:{},currentHoveredDay:{},min:{},max:{},onlyPickDay:{type:Boolean},unequalRange:{type:Boolean},monthCount:{}},emits:["day-click","day-hover","drag","input"],setup(d,{emit:u}){const e=d,o=t.computed(()=>`${e.calendar.months[e.month]} ${e.year}`),p=t.computed(()=>e.calendar.daysInMonth(e.month,e.year)),s=t.computed(()=>new Array(p.value).fill(0).map((n,r)=>({dayInMonth:r+1,month:e.month,year:e.year,dayInWeek:e.calendar.getDayInWeek(e.calendar.getDate(e.year,e.month,r+1)),today:e.calendar.isSame(new Date,e.calendar.getDate(e.year,e.month,r+1))}))),m=t.computed(()=>s.value.map(n=>f(n.dayInMonth))),_=t.computed(()=>s.value.map(n=>k(n.dayInMonth))),v=t.computed(()=>s.value.map(n=>{const{start:r,end:a,isSelected:l}=B(n.dayInMonth);return{isSelected:l,startRange:r,endRange:a}})),i=t.computed(()=>s.value.map((n,r)=>({...n,isSelected:v.value[r].isSelected,startRange:v.value[r].startRange,endRange:v.value[r].endRange,isBetween:_.value[r],disabled:m.value[r]}))),g=t.computed(()=>(e.calendar.firstDayInMonth(e.month,e.year)-e.calendar.startDayWeek+7)%7),y=t.computed(()=>e.currentHoveredDay?e.calendar.getDate(e.currentHoveredDay.year,e.currentHoveredDay.month,e.currentHoveredDay.dayInMonth):null),S=t.computed(()=>e.calendar.getDate(e.year,e.month,1)),f=n=>{let r=!1,a=!1;return e.min&&(r=e.calendar.isAfter(e.min,e.calendar.getDate(e.year,e.month,n))),e.max&&(a=e.calendar.isAfter(e.calendar.getDate(e.year,e.month,n),e.max)),r||a},k=n=>e.range?e.selectedFirstRange&&y.value?e.calendar.isAfter(y.value,e.selectedFirstRange)?e.calendar.isBetween(e.calendar.getDate(e.year,e.month,n),e.selectedFirstRange,y.value):!1:e.value.start&&e.value.end?e.calendar.isBetween(e.calendar.getDate(e.year,e.month,n),e.value.start,e.value.end):!1:!1,B=n=>{const r=e.calendar.getDate(e.year,e.month,n);if(e.range){const a=e.value;if(e.selectedFirstRange){const h=e.calendar.isSame(e.selectedFirstRange,r);let D=!1,C=!1;return y.value&&(D=e.calendar.isSame(y.value,r),C=e.calendar.isAfter(y.value,e.selectedFirstRange)),{isSelected:h,start:C&&h,end:C&&D}}const l=a.start?e.calendar.isSame(a.start,r):!1,c=a.end?e.calendar.isSame(a.end,r):!1;return{isSelected:l||c,start:l,end:c}}else return{isSelected:e.calendar.isSame(e.value,r),start:!1,end:!1}},M=n=>{n.disabled||u("day-hover",n)},b=n=>{if(!n.disabled&&(u("day-click",{...n,year:e.year,month:e.month}),!e.onlyPickDay))if(e.range)if(e.selectedFirstRange){const r=e.calendar.getDate(e.year,e.month,n.dayInMonth);e.calendar.isAfter(r,e.selectedFirstRange)||!e.unequalRange&&e.calendar.isSame(r,e.selectedFirstRange)?u("input",{start:e.selectedFirstRange,end:r}):u("drag",r)}else u("drag",e.calendar.getDate(e.year,e.month,n.dayInMonth));else u("input",e.calendar.getDate(e.year,e.month,n.dayInMonth))};return(n,r)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["month-table-container",{single:e.monthCount===1}])},[t.renderSlot(n.$slots,"month-title",{startMonthDate:S.value},()=>[t.createElementVNode("div",P,t.toDisplayString(o.value),1)],!0),t.renderSlot(n.$slots,"week-header",{},()=>[t.createVNode(t.unref(N),{calendar:n.calendar},null,8,["calendar"])],!0),t.createElementVNode("div",A,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(g.value,a=>(t.openBlock(),t.createElementBlock("div",{key:`empty-${a}`,class:"main-day-wrapper empty"}))),128)),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(i.value,a=>(t.openBlock(),t.createElementBlock("div",{key:a.dayInMonth,class:"main-day-wrapper",onClick:l=>b(a),onMouseenter:l=>M(a)},[t.renderSlot(n.$slots,"day-container",{day:a,daysInMonth:p.value},()=>[t.createElementVNode("div",{class:t.normalizeClass(["main-day-container",{selected:a.isSelected,between:a.isBetween,disable:a.disabled}])},[t.renderSlot(n.$slots,"day",{day:a},()=>[t.createTextVNode(t.toDisplayString(a.dayInMonth),1)],!0)],2)],!0)],40,z))),128))])],2))}});const W=w(q,[["__scopeId","data-v-7d225296"]]),O={class:"customizable-date-picker-container"},T={class:"month-list"},Y=t.defineComponent({__name:"CustomizableDatePicker",props:{calendars:{},modelValue:{},monthCount:{},currentCalendar:{},range:{type:Boolean},onlyPick:{},readOnly:{type:Boolean},min:{},max:{},startMonthFromNow:{type:Boolean},trackStart:{type:Boolean},unequalRange:{type:Boolean}},emits:["day-click","day-hover","drag","page-change","update:modelValue"],setup(d,{expose:u,emit:e}){const o=d,p=t.computed(()=>o.currentCalendar??0),s=t.computed(()=>o.calendars[p.value]),m=t.computed({get(){return o.modelValue},set(a){e("update:modelValue",a)}}),_=t.computed(()=>o.monthCount??1),v=t.ref(s.value.currentYear),i=t.ref(s.value.currentMonth);t.watch(s,a=>{v.value=a.currentYear,i.value=a.currentMonth});const g=t.ref(null),y=t.ref(null),S=t.computed(()=>{let a=[];for(let l=0;l<_.value;l++){const c=i.value+l>11?v.value+1:v.value,h=i.value+l<12?i.value+l:(i.value+l)%12;a.push({year:c,month:h})}return a});t.watch(m,()=>{o.range&&o.trackStart&&!m.value.end&&(g.value=m.value.start)});const f=()=>{i.value+1<=11?i.value++:(i.value=0,v.value++),e("page-change",{year:v.value,month:i.value})},k=()=>{i.value-1>=0?i.value--:(i.value=11,v.value--),e("page-change",{year:v.value,month:i.value})},B=a=>{e("update:modelValue",{start:o.trackStart?a:null,end:null}),e("drag"),g.value=a},M=a=>{g.value=null,e("update:modelValue",a)},b=a=>{y.value=a,e("day-hover",s.value.getDate(a.year,a.month,a.dayInMonth))},n=a=>{e("day-click",a),r(a)},r=a=>{if(!o.onlyPick||!o.range)return;const l=m.value||{},c=s.value.getDate(a.year,a.month,a.dayInMonth);o.onlyPick==="start"?(l.end&&s.value.isAfter(c,l.end)&&(l.end=c),l.start=c):o.onlyPick==="end"&&(l.start&&s.value.isAfter(l.start,c)&&(l.start=c),l.end=c),e("update:modelValue",m.value)};return u({prev:k,next:f}),(a,l)=>(t.openBlock(),t.createElementBlock("div",O,[t.createVNode(t.unref(F),{onNext:f,onPrev:k},{"header-next-button":t.withCtx(()=>[t.renderSlot(a.$slots,"header-next-button",{},void 0,!0)]),"header-prev-button":t.withCtx(()=>[t.renderSlot(a.$slots,"header-prev-button",{},void 0,!0)]),_:3}),t.createElementVNode("div",T,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(S.value,c=>(t.openBlock(),t.createBlock(t.unref(W),{key:c.year.toString()+c.month.toString(),year:c.year,month:c.month,calendar:s.value,value:m.value,range:a.range,"selected-first-range":g.value,"current-hovered-day":y.value,min:o.min,max:o.max,"only-pick-day":o.range&&!!o.onlyPick,"unequal-range":o.unequalRange,monthCount:_.value,onDayClick:n,onDayHover:b,onDrag:B,onInput:M},{"month-title":t.withCtx(({startMonthDate:h})=>[t.renderSlot(a.$slots,"month-title",{startMonthDate:h},void 0,!0)]),"week-header":t.withCtx(()=>[t.renderSlot(a.$slots,"week-header",{},void 0,!0)]),"day-container":t.withCtx(({day:h,daysInMonth:D})=>[t.renderSlot(a.$slots,"day-container",{day:h,daysInMonth:D},void 0,!0)]),day:t.withCtx(({day:h})=>[t.renderSlot(a.$slots,"day",{day:h},void 0,!0)]),_:2},1032,["year","month","calendar","value","range","selected-first-range","current-hovered-day","min","max","only-pick-day","unequal-range","monthCount"]))),128))])]))}});const I=w(Y,[["__scopeId","data-v-19d2dfc2"]]),Z={install:d=>{d.component("VCustomizableDatePicker",I)}};exports.CustomizableDatePicker=I;exports.default=Z;
